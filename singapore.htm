

<!DOCTYPE html>
<html>
 <head>
  <title>Geo Map</title>
  <script src="https://d3js.org/d3.v4.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
  <script src="https://d3js.org/d3-geo.v1.min.js"></script>
 </head>
 <body>  
 <div id = "tooltip">
 <script>
 var margin = {top: 10, right: 10, bottom: 10, left: 10},
 width = 960,
 height = 500
		
 var svg = d3.select("body")
	.append("svg")
	.attr("width", width + margin.left + margin.right)
	.attr("height", height + margin.top + margin.bottom)
	.append("g")
	.attr("transform", "translate(" + margin.left + "," + margin.top + ")")
 
 var colorScale = d3.scaleThreshold()
  .domain([1, 50, 200, 500, 1000, 2000, 4000])
  .range(d3.schemeOrRd[7]);

 d3.json("https://raw.githubusercontent.com/thanhtruc0308/Data-Visualization/main/singapore-map.json", function(json) {
 var projection = d3.geoMercator()
    	.fitSize([width - 40,height - 40],json)
 var path = d3.geoPath()
 	.projection(projection);

 var u = svg.selectAll("path")
 	.data(json.features)
 	.enter()
 	.append("path")
 	.attr("d", path)
	.style("fill", function(d){
	    if(d.properties.PLN_AREA_N == "changi")
		return "#78c679" 
	    else return "#ffffbf"})
	.style("stroke-width", "0.5")
        .style("stroke", "black")
	.on("mouseover", mouseOver )
      	.on("mouseleave", mouseLeave )
});

 function drawTooltip(d) {
	var xPosition = d3.event.pageX;
    	var yPosition = d3.event.pageY;

	d3.select("#tooltip")
	.style("left", xPosition + "px")
	.style("top", yPosition + "px")
	.text(d.properties.PLN_AREA_N);
}
 
 var mouseOver = function(d) {
   d3.select(this)
     .transition()
     .duration(200)
     .style("fill", "#78c679")
   drawTooltip(d);
  }

  var mouseLeave = function(d) {
    d3.select(this)
      .transition()
      .duration(200)
      .style("fill", "#ffffbf")
      .style("stroke", "black")
  }

  

  

 </script> 
</body>
</html>